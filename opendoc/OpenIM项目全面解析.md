# OpenIMé¡¹ç›®å…¨é¢è§£ææ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

OpenIMæ˜¯ä¸€ä¸ªå¼€æºçš„ä¼ä¸šçº§å³æ—¶é€šè®¯è§£å†³æ–¹æ¡ˆï¼Œä¸“ä¸ºå¼€å‘è€…è®¾è®¡ã€‚ä¸Telegramã€Signalç­‰ç‹¬ç«‹èŠå¤©åº”ç”¨ä¸åŒï¼ŒOpenIMæä¾›äº†å®Œæ•´çš„IMé›†æˆå·¥å…·é“¾ï¼Œç”±OpenIM SDKå’ŒOpenIM Serverä¸¤å¤§æ ¸å¿ƒéƒ¨åˆ†ç»„æˆï¼Œé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒé«˜å¹¶å‘ã€é«˜å¯ç”¨çš„å®æ—¶é€šä¿¡èƒ½åŠ›ã€‚

### ğŸ¯ æ ¸å¿ƒä»·å€¼ä¸»å¼ 

- **å¼€å‘è€…å‹å¥½**: æä¾›å®Œæ•´çš„SDKå’ŒServerç«¯è§£å†³æ–¹æ¡ˆ
- **å¾®æœåŠ¡æ¶æ„**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒç‹¬ç«‹éƒ¨ç½²å’Œæ°´å¹³æ‰©å±•
- **é«˜æ€§èƒ½**: æ”¯æŒç™¾ä¸‡çº§ç”¨æˆ·ï¼Œåƒä¸‡çº§ç¾¤ç»„ï¼Œç™¾äº¿çº§æ¶ˆæ¯
- **å¤šå¹³å°æ”¯æŒ**: iOSã€Androidã€Webã€PCã€å°ç¨‹åºå…¨å¹³å°è¦†ç›–
- **çµæ´»æ‰©å±•**: åŸºäºWebhookçš„ä¸šåŠ¡é€»è¾‘æ‰©å±•æœºåˆ¶

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

### ç³»ç»Ÿåˆ†å±‚æ¶æ„å›¾

```mermaid
graph TB
    subgraph "L1: å®¢æˆ·ç«¯åº”ç”¨å±‚"
        subgraph "ç§»åŠ¨ç«¯"
            iOS[iOS App<br/>Swift/Objective-C]
            Android[Android App<br/>Kotlin/Java]
        end
        subgraph "æ¡Œé¢ç«¯"
            Windows[Windows Client]
            Mac[Mac Client]
            Linux[Linux Client]
        end
        subgraph "Webç«¯"
            WebApp[Web App<br/>React/Vue]
            H5[H5 App]
        end
        subgraph "å°ç¨‹åº"
            WeChat[å¾®ä¿¡å°ç¨‹åº]
            Alipay[æ”¯ä»˜å®å°ç¨‹åº]
        end
    end

    subgraph "L2: SDKå±‚"
        OpenIMSDK[OpenIM SDK Core<br/>è·¨å¹³å°å®¢æˆ·ç«¯SDK]
    end

    subgraph "L3: APIç½‘å…³å±‚"
        subgraph "HTTPç½‘å…³"
            APIGateway[HTTP API Gateway<br/>openim-api<br/>ç«¯å£: 10002]
        end
        subgraph "WebSocketç½‘å…³"
            WSGateway[WebSocket Gateway<br/>openim-msggateway<br/>ç«¯å£: 10001]
        end
    end

    subgraph "L4: æ ¸å¿ƒä¸šåŠ¡æœåŠ¡å±‚"
        subgraph "è®¤è¯æˆæƒæœåŠ¡"
            AuthService[è®¤è¯æœåŠ¡<br/>openim-rpc-auth<br/>ç«¯å£: 10160]
        end
        
        subgraph "ç”¨æˆ·ç®¡ç†æœåŠ¡"
            UserService[ç”¨æˆ·æœåŠ¡<br/>openim-rpc-user<br/>ç«¯å£: 10110]
        end

        subgraph "æ¶ˆæ¯æ ¸å¿ƒæœåŠ¡"
            MsgService[æ¶ˆæ¯æœåŠ¡<br/>openim-rpc-msg<br/>ç«¯å£: 10130]
        end

        subgraph "ä¼šè¯ç®¡ç†æœåŠ¡"
            ConvService[ä¼šè¯æœåŠ¡<br/>openim-rpc-conversation<br/>ç«¯å£: 10120]
        end

        subgraph "ç¾¤ç»„ç®¡ç†æœåŠ¡"
            GroupService[ç¾¤ç»„æœåŠ¡<br/>openim-rpc-group<br/>ç«¯å£: 10150]
        end

        subgraph "å¥½å‹å…³ç³»æœåŠ¡"
            RelationService[å…³ç³»æœåŠ¡<br/>openim-rpc-relation<br/>ç«¯å£: 10140]
        end

        subgraph "ç¬¬ä¸‰æ–¹æœåŠ¡"
            ThirdService[ç¬¬ä¸‰æ–¹æœåŠ¡<br/>openim-rpc-third<br/>ç«¯å£: 10170]
        end
    end

    subgraph "L5: æ”¯æ’‘æœåŠ¡å±‚"
        PushService[æ¨é€æœåŠ¡<br/>openim-push<br/>ç«¯å£: 10200]
        MsgTransfer[æ¶ˆæ¯ä¼ è¾“<br/>openim-msgtransfer<br/>ç«¯å£: 10180]
        CronTask[å®šæ—¶ä»»åŠ¡<br/>openim-crontask<br/>ç«¯å£: 10190]
    end

    subgraph "L6: å­˜å‚¨å±‚"
        subgraph "ç¼“å­˜å­˜å‚¨"
            Redis[(Redis<br/>ç¼“å­˜å±‚)]
        end
        subgraph "æŒä¹…åŒ–å­˜å‚¨"
            MongoDB[(MongoDB<br/>æ–‡æ¡£æ•°æ®åº“)]
            MinIO[(MinIO<br/>å¯¹è±¡å­˜å‚¨)]
        end
        subgraph "æ¶ˆæ¯é˜Ÿåˆ—"
            Kafka[(Kafka<br/>æ¶ˆæ¯é˜Ÿåˆ—)]
        end
    end

    subgraph "L7: å¤–éƒ¨æœåŠ¡"
        FCM[Firebaseäº‘æ¶ˆæ¯]
        APNs[è‹¹æœæ¨é€æœåŠ¡]
        SMS[çŸ­ä¿¡æœåŠ¡]
        Email[é‚®ä»¶æœåŠ¡]
        OSS[å¯¹è±¡å­˜å‚¨æœåŠ¡]
    end

    %% è¿æ¥å…³ç³»
    iOS --> OpenIMSDK
    Android --> OpenIMSDK
    Windows --> OpenIMSDK
    Mac --> OpenIMSDK
    Linux --> OpenIMSDK
    WebApp --> OpenIMSDK
    H5 --> OpenIMSDK
    WeChat --> OpenIMSDK
    Alipay --> OpenIMSDK

    OpenIMSDK --> APIGateway
    OpenIMSDK --> WSGateway

    APIGateway --> AuthService
    APIGateway --> UserService
    APIGateway --> MsgService
    APIGateway --> ConvService
    APIGateway --> GroupService
    APIGateway --> RelationService
    APIGateway --> ThirdService

    WSGateway --> AuthService
    WSGateway --> UserService
    WSGateway --> MsgService

    MsgService --> MsgTransfer
    UserService --> PushService
    GroupService --> PushService
    RelationService --> PushService

    AuthService --> Redis
    UserService --> Redis
    UserService --> MongoDB
    MsgService --> Redis
    MsgService --> MongoDB
    MsgService --> Kafka
    ConvService --> Redis
    ConvService --> MongoDB
    GroupService --> Redis
    GroupService --> MongoDB
    RelationService --> Redis
    RelationService --> MongoDB
    ThirdService --> MinIO

    MsgTransfer --> Kafka
    MsgTransfer --> MongoDB
    PushService --> Redis
    PushService --> FCM
    PushService --> APNs
    CronTask --> MongoDB

    ThirdService --> SMS
    ThirdService --> Email
    ThirdService --> OSS
```

### ğŸ”§ æ¶æ„å±‚æ¬¡è¯¦è§£

#### L1: å®¢æˆ·ç«¯åº”ç”¨å±‚
- **ç§»åŠ¨ç«¯**: iOS/AndroidåŸç”Ÿåº”ç”¨
- **æ¡Œé¢ç«¯**: Windows/Mac/Linuxæ¡Œé¢å®¢æˆ·ç«¯
- **Webç«¯**: åŸºäºReact/Vueçš„Webåº”ç”¨å’ŒH5åº”ç”¨
- **å°ç¨‹åº**: å¾®ä¿¡å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºç­‰

#### L2: SDKå±‚
- **OpenIM SDK Core**: è·¨å¹³å°çš„å®¢æˆ·ç«¯SDKï¼Œæä¾›ç»Ÿä¸€çš„APIæ¥å£
- æ”¯æŒå¤šç§å¼€å‘è¯­è¨€å’Œå¹³å°
- æœ¬åœ°å­˜å‚¨ã€è¿æ¥ç®¡ç†ã€æ¶ˆæ¯å¤„ç†ç­‰æ ¸å¿ƒåŠŸèƒ½

#### L3: APIç½‘å…³å±‚
- **HTTP API Gateway**: REST APIæ¥å£æœåŠ¡ï¼Œç«¯å£10002
- **WebSocket Gateway**: å®æ—¶é€šä¿¡ç½‘å…³ï¼Œç«¯å£10001
- è´Ÿè½½å‡è¡¡ã€è¯·æ±‚è·¯ç”±ã€èº«ä»½è®¤è¯

#### L4: æ ¸å¿ƒä¸šåŠ¡æœåŠ¡å±‚
8ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ï¼Œå„è‡ªè´Ÿè´£ç‰¹å®šçš„ä¸šåŠ¡åŸŸï¼š
- **è®¤è¯æœåŠ¡**: JWTä»¤ç‰Œç®¡ç†ã€å¤šç«¯ç™»å½•æ§åˆ¶
- **ç”¨æˆ·æœåŠ¡**: ç”¨æˆ·ä¿¡æ¯ç®¡ç†ã€åœ¨çº¿çŠ¶æ€è·Ÿè¸ª
- **æ¶ˆæ¯æœåŠ¡**: æ¶ˆæ¯å‘é€ã€æ¥æ”¶ã€åŒæ­¥ã€å­˜å‚¨
- **ä¼šè¯æœåŠ¡**: ä¼šè¯ç®¡ç†ã€æ¶ˆæ¯åºåˆ—å·ç®¡ç†
- **ç¾¤ç»„æœåŠ¡**: ç¾¤ç»„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æˆå‘˜ç®¡ç†
- **å…³ç³»æœåŠ¡**: å¥½å‹å…³ç³»ã€é»‘åå•ç®¡ç†
- **ç¬¬ä¸‰æ–¹æœåŠ¡**: å¯¹è±¡å­˜å‚¨ã€çŸ­ä¿¡ã€é‚®ä»¶é›†æˆ

#### L5: æ”¯æ’‘æœåŠ¡å±‚
- **æ¨é€æœåŠ¡**: ç¦»çº¿æ¶ˆæ¯æ¨é€ã€å¤šå¹³å°æ¨é€
- **æ¶ˆæ¯ä¼ è¾“**: æ¶ˆæ¯è·¯ç”±ã€Kafkaæ¶ˆè´¹å¤„ç†
- **å®šæ—¶ä»»åŠ¡**: æ•°æ®æ¸…ç†ã€ç»Ÿè®¡ä»»åŠ¡

#### L6: å­˜å‚¨å±‚
- **Redis**: ç¼“å­˜ã€ä¼šè¯çŠ¶æ€ã€åœ¨çº¿çŠ¶æ€
- **MongoDB**: æ¶ˆæ¯ã€ç”¨æˆ·ã€ç¾¤ç»„æ•°æ®æŒä¹…åŒ–
- **MinIO**: æ–‡ä»¶ã€å›¾ç‰‡ã€è§†é¢‘å¯¹è±¡å­˜å‚¨
- **Kafka**: å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—

#### L7: å¤–éƒ¨æœåŠ¡
- **FCM/APNs**: ç§»åŠ¨ç«¯æ¨é€æœåŠ¡
- **SMS/Email**: é€šçŸ¥æœåŠ¡
- **OSS**: äº‘å­˜å‚¨æœåŠ¡

---

## ğŸŒŸ OpenIMæ ¸å¿ƒç‰¹æ€§

### 1. ğŸ“± å¤šå¹³å°æ”¯æŒ
- **å…¨å¹³å°è¦†ç›–**: iOSã€Androidã€Webã€PCã€å°ç¨‹åº
- **ç»Ÿä¸€SDK**: ä¸€å¥—SDKé€‚é…æ‰€æœ‰å¹³å°
- **åŸç”Ÿæ€§èƒ½**: åŸºäºGolangæ„å»ºï¼Œæ€§èƒ½ä¼˜å¼‚

### 2. ğŸ”§ å¾®æœåŠ¡æ¶æ„
- **æœåŠ¡æ‹†åˆ†**: 8ä¸ªç‹¬ç«‹çš„RPCæœåŠ¡
- **ç‹¬ç«‹éƒ¨ç½²**: æ¯ä¸ªæœåŠ¡å¯ç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•
- **é«˜å¯ç”¨**: æ”¯æŒé›†ç¾¤æ¨¡å¼å’Œæ•…éšœè½¬ç§»

### 3. ğŸ“Š æµ·é‡å¹¶å‘æ”¯æŒ
- **ç™¾ä¸‡çº§ç”¨æˆ·**: æ”¯æŒç™¾ä¸‡çº§å¹¶å‘ç”¨æˆ·
- **åƒä¸‡çº§ç¾¤ç»„**: æ”¯æŒè¶…å¤§è§„æ¨¡ç¾¤ç»„
- **ç™¾äº¿çº§æ¶ˆæ¯**: æµ·é‡æ¶ˆæ¯å¤„ç†èƒ½åŠ›

### 4. ğŸš€ å®æ—¶é€šä¿¡
- **WebSocket**: åŸºäºWebSocketçš„å®æ—¶é€šä¿¡
- **æ¯«ç§’çº§å»¶è¿Ÿ**: ä¼˜åŒ–çš„æ¶ˆæ¯ä¼ è¾“è·¯å¾„
- **å¤šç«¯åŒæ­¥**: æ¶ˆæ¯åœ¨æ‰€æœ‰è®¾å¤‡å®æ—¶åŒæ­¥

### 5. ğŸ’¾ æ¶ˆæ¯å­˜å‚¨
- **æŒä¹…åŒ–**: MongoDBæ–‡æ¡£æ•°æ®åº“å­˜å‚¨
- **ç¼“å­˜ä¼˜åŒ–**: Rediså¤šçº§ç¼“å­˜åŠ é€Ÿ
- **æ¶ˆæ¯ç´¢å¼•**: é«˜æ•ˆçš„æ¶ˆæ¯æ£€ç´¢æœºåˆ¶

### 6. ğŸ” å®‰å…¨è®¤è¯
- **JWTä»¤ç‰Œ**: åŸºäºJWTçš„èº«ä»½è®¤è¯
- **å¤šç«¯ç™»å½•**: æ”¯æŒå¤šè®¾å¤‡åŒæ—¶åœ¨çº¿
- **æƒé™æ§åˆ¶**: ç»†ç²’åº¦çš„æƒé™ç®¡ç†

### 7. ğŸ”„ æ¶ˆæ¯åŒæ­¥
- **å¢é‡åŒæ­¥**: åŸºäºåºåˆ—å·çš„å¢é‡åŒæ­¥
- **ç¦»çº¿æ¶ˆæ¯**: ç¦»çº¿æ¶ˆæ¯çš„å®Œæ•´ä¿å­˜å’Œæ¨é€
- **æ¶ˆæ¯çŠ¶æ€**: å·²è¯»/æœªè¯»çŠ¶æ€ç®¡ç†

### 8. ğŸŒ Webhooké›†æˆ
- **äº‹ä»¶å›è°ƒ**: æ¶ˆæ¯å‰åçš„å›è°ƒæœºåˆ¶
- **ä¸šåŠ¡æ‰©å±•**: çµæ´»çš„ä¸šåŠ¡é€»è¾‘é›†æˆ
- **ç¬¬ä¸‰æ–¹é›†æˆ**: ä¸å¤–éƒ¨ç³»ç»Ÿçš„æ— ç¼é›†æˆ

---

## ğŸ¢ æ ¸å¿ƒä¸šåŠ¡æ¨¡å—è¯¦è§£

### 1. è®¤è¯æˆæƒæ¨¡å— (openim-rpc-auth)

#### æ ¸å¿ƒåŠŸèƒ½
- **JWTä»¤ç‰Œç®¡ç†**: ç”Ÿæˆã€éªŒè¯ã€åˆ·æ–°ã€æ’¤é”€
- **å¤šå¹³å°è®¤è¯**: ä¸åŒå®¢æˆ·ç«¯å¹³å°çš„ç‹¬ç«‹Tokenç®¡ç†
- **æƒé™åˆ†çº§**: ç³»ç»Ÿç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ã€åº”ç”¨è´¦å·
- **ä¼šè¯ç®¡ç†**: åœ¨çº¿çŠ¶æ€ã€å¼ºåˆ¶ä¸‹çº¿ã€ä¼šè¯è¶…æ—¶

#### æŠ€æœ¯å®ç°
```go
// JWTä»¤ç‰Œç”Ÿæˆå’ŒéªŒè¯
type AuthService struct {
    tokenManager *jwt.TokenManager
    userCache    cache.UserCache
    config       *config.AuthConfig
}

func (s *AuthService) UserToken(ctx context.Context, req *pbauth.UserTokenReq) (*pbauth.UserTokenResp, error) {
    // 1. ç”¨æˆ·èº«ä»½éªŒè¯
    // 2. å¤šç«¯ç™»å½•æ£€æŸ¥
    // 3. JWTä»¤ç‰Œç”Ÿæˆ
    // 4. ä¼šè¯çŠ¶æ€å­˜å‚¨
}
```

### 2. ç”¨æˆ·ç®¡ç†æ¨¡å— (openim-rpc-user)

#### æ ¸å¿ƒåŠŸèƒ½
- **ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸ**: æ³¨å†Œã€ä¿¡æ¯ç®¡ç†ã€çŠ¶æ€è·Ÿè¸ªã€æ³¨é”€
- **åœ¨çº¿çŠ¶æ€ç®¡ç†**: å¤šè®¾å¤‡åœ¨çº¿çŠ¶æ€èšåˆ
- **æƒé™ç®¡ç†**: ç”¨æˆ·æƒé™éªŒè¯å’Œæ§åˆ¶
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡ç”¨æˆ·æŸ¥è¯¢å’Œæ›´æ–°

#### å…³é”®ç‰¹æ€§
- **å¤šç«¯åœ¨çº¿**: æ”¯æŒç”¨æˆ·å¤šè®¾å¤‡åŒæ—¶åœ¨çº¿
- **çŠ¶æ€èšåˆ**: ä»»ä¸€å¹³å°åœ¨çº¿ï¼Œæ•´ä½“çŠ¶æ€ä¸ºåœ¨çº¿
- **å®æ—¶åŒæ­¥**: è·¨è®¾å¤‡çš„çŠ¶æ€ä¿¡æ¯åŒæ­¥

### 3. æ¶ˆæ¯æ ¸å¿ƒæ¨¡å— (openim-rpc-msg)

#### æ ¸å¿ƒåŠŸèƒ½
- **æ¶ˆæ¯å‘é€**: å•èŠã€ç¾¤èŠæ¶ˆæ¯çš„å‘é€å¤„ç†
- **æ¶ˆæ¯åŒæ­¥**: åŸºäºåºåˆ—å·çš„å¢é‡æ¶ˆæ¯åŒæ­¥
- **æ¶ˆæ¯å­˜å‚¨**: MongoDBçš„æ¶ˆæ¯æŒä¹…åŒ–å­˜å‚¨
- **æ¶ˆæ¯éªŒè¯**: æƒé™éªŒè¯ã€å†…å®¹è¿‡æ»¤ã€å®‰å…¨æ£€æŸ¥

#### æ¶ˆæ¯æµç¨‹
```mermaid
sequenceDiagram
    participant Client as å®¢æˆ·ç«¯
    participant Gateway as æ¶ˆæ¯ç½‘å…³
    participant MsgRPC as æ¶ˆæ¯æœåŠ¡
    participant MongoDB as MongoDB
    participant Kafka as Kafka
    participant Push as æ¨é€æœåŠ¡

    Client->>Gateway: 1. å‘é€æ¶ˆæ¯
    Gateway->>MsgRPC: 2. RPCè°ƒç”¨
    MsgRPC->>MsgRPC: 3. æ¶ˆæ¯éªŒè¯
    MsgRPC->>MongoDB: 4. æ¶ˆæ¯å­˜å‚¨
    MsgRPC->>Kafka: 5. å‘å¸ƒæ¶ˆæ¯
    Kafka->>Push: 6. æ¨é€å¤„ç†
    MsgRPC-->>Gateway: 7. è¿”å›ç»“æœ
    Gateway-->>Client: 8. å‘é€ç¡®è®¤
```

### 4. ç¾¤ç»„ç®¡ç†æ¨¡å— (openim-rpc-group)

#### æ ¸å¿ƒåŠŸèƒ½
- **ç¾¤ç»„ç”Ÿå‘½å‘¨æœŸ**: åˆ›å»ºã€è§£æ•£ã€ä¿¡æ¯ç»´æŠ¤
- **æˆå‘˜ç®¡ç†**: é‚€è¯·ã€è¸¢å‡ºã€è§’è‰²ç®¡ç†
- **æƒé™æ§åˆ¶**: åˆ†çº§æƒé™ã€æ“ä½œæƒé™ã€ç¦è¨€ç®¡ç†
- **ç”³è¯·å¤„ç†**: åŠ ç¾¤ç”³è¯·ã€å®¡æ‰¹æµç¨‹

#### æƒé™ä½“ç³»
- **ç¾¤ä¸»**: æœ€é«˜æƒé™ï¼Œç®¡ç†ç¾¤ç»„å’Œæ‰€æœ‰æˆå‘˜
- **ç®¡ç†å‘˜**: ç®¡ç†æˆå‘˜ã€æ¶ˆæ¯ç®¡ç†æƒé™
- **æ™®é€šæˆå‘˜**: åŸºç¡€èŠå¤©å’ŒæŸ¥çœ‹æƒé™

### 5. å¥½å‹å…³ç³»æ¨¡å— (openim-rpc-relation)

#### æ ¸å¿ƒåŠŸèƒ½
- **å¥½å‹ç®¡ç†**: æ·»åŠ ã€åˆ é™¤ã€æŸ¥è¯¢å¥½å‹å…³ç³»
- **é»‘åå•ç®¡ç†**: ç”¨æˆ·é»‘åå•çš„å¢åˆ æ”¹æŸ¥
- **å…³ç³»åŒæ­¥**: å¥½å‹å…³ç³»çš„å¢é‡åŒæ­¥
- **ç”³è¯·å¤„ç†**: å¥½å‹ç”³è¯·çš„å¤„ç†æµç¨‹

### 6. ä¼šè¯ç®¡ç†æ¨¡å— (openim-rpc-conversation)

#### æ ¸å¿ƒåŠŸèƒ½
- **ä¼šè¯åˆ›å»º**: å•èŠã€ç¾¤èŠä¼šè¯çš„åˆ›å»º
- **åºåˆ—å·ç®¡ç†**: æ¶ˆæ¯åºåˆ—å·çš„åˆ†é…å’Œç®¡ç†
- **ä¼šè¯åŒæ­¥**: ä¼šè¯ä¿¡æ¯çš„è·¨è®¾å¤‡åŒæ­¥
- **æœªè¯»æ¶ˆæ¯**: æœªè¯»æ¶ˆæ¯è®¡æ•°å’ŒçŠ¶æ€ç®¡ç†

### 7. ç¬¬ä¸‰æ–¹æœåŠ¡æ¨¡å— (openim-rpc-third)

#### æ ¸å¿ƒåŠŸèƒ½
- **å¯¹è±¡å­˜å‚¨**: MinIOæ–‡ä»¶ä¸Šä¼ å’Œç®¡ç†
- **çŸ­ä¿¡æœåŠ¡**: çŸ­ä¿¡éªŒè¯ç å‘é€
- **é‚®ä»¶æœåŠ¡**: é‚®ä»¶é€šçŸ¥å‘é€
- **å›è°ƒç®¡ç†**: Webhookå›è°ƒçš„é…ç½®å’Œæ‰§è¡Œ

---

## ğŸ”„ æ”¯æ’‘æœåŠ¡è¯¦è§£

### 1. æ¶ˆæ¯ç½‘å…³ (openim-msggateway)

#### æ ¸å¿ƒèŒè´£
- **è¿æ¥ç®¡ç†**: WebSocketè¿æ¥çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **æ¶ˆæ¯è½¬å‘**: å®æ—¶æ¶ˆæ¯çš„æ¥æ”¶å’Œè½¬å‘
- **çŠ¶æ€ç®¡ç†**: ç”¨æˆ·åœ¨çº¿çŠ¶æ€çš„å®æ—¶åŒæ­¥
- **è´Ÿè½½å‡è¡¡**: æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²å’Œè´Ÿè½½å‡è¡¡

#### æŠ€æœ¯æ¶æ„
```go
type WsServer struct {
    connManager    *ConnectionManager
    userMap        *UserMap
    messageHandler *MessageHandler
    hubServer      *HubServer
}
```

### 2. æ¶ˆæ¯ä¼ è¾“ (openim-msgtransfer)

#### æ ¸å¿ƒèŒè´£
- **Kafkaæ¶ˆè´¹**: æ¶ˆè´¹Kafkaä¸­çš„æ¶ˆæ¯äº‹ä»¶
- **æ¶ˆæ¯è·¯ç”±**: æ ¹æ®ç”¨æˆ·åœ¨çº¿çŠ¶æ€è·¯ç”±æ¶ˆæ¯
- **æ‰¹é‡å¤„ç†**: æ‰¹é‡å¤„ç†æ¶ˆæ¯ä»¥æé«˜æ€§èƒ½
- **MongoDBå­˜å‚¨**: æ¶ˆæ¯çš„æœ€ç»ˆæŒä¹…åŒ–å­˜å‚¨

### 3. æ¨é€æœåŠ¡ (openim-push)

#### æ ¸å¿ƒèŒè´£
- **åœ¨çº¿æ¨é€**: å®æ—¶åœ¨çº¿ç”¨æˆ·çš„æ¶ˆæ¯æ¨é€
- **ç¦»çº¿æ¨é€**: ç¦»çº¿ç”¨æˆ·çš„æ¨é€é€šçŸ¥
- **å¤šå¹³å°æ¨é€**: FCMã€APNsç­‰æ¨é€å¹³å°é›†æˆ
- **æ¨é€ç­–ç•¥**: æ™ºèƒ½æ¨é€ç­–ç•¥å’Œé¢‘ç‡æ§åˆ¶

#### æ¨é€æµç¨‹
```mermaid
sequenceDiagram
    participant Kafka as Kafka
    participant Push as æ¨é€æœåŠ¡
    participant UserRPC as ç”¨æˆ·æœåŠ¡
    participant FCM as FCM/APNs
    participant Device as è®¾å¤‡

    Kafka->>Push: 1. æ¶ˆæ¯äº‹ä»¶
    Push->>UserRPC: 2. æŸ¥è¯¢ç”¨æˆ·åœ¨çº¿çŠ¶æ€
    UserRPC-->>Push: 3. è¿”å›çŠ¶æ€ä¿¡æ¯
    
    alt ç”¨æˆ·åœ¨çº¿
        Push->>Push: 4. åœ¨çº¿æ¨é€å¤„ç†
    else ç”¨æˆ·ç¦»çº¿
        Push->>FCM: 5. ç¦»çº¿æ¨é€
        FCM->>Device: 6. æ¨é€åˆ°è®¾å¤‡
    end
```

### 4. å®šæ—¶ä»»åŠ¡ (openim-crontask)

#### æ ¸å¿ƒèŒè´£
- **æ•°æ®æ¸…ç†**: è¿‡æœŸæ¶ˆæ¯å’Œæ–‡ä»¶çš„æ¸…ç†
- **ç»Ÿè®¡ä»»åŠ¡**: ç”¨æˆ·æ´»è·ƒåº¦ã€æ¶ˆæ¯é‡ç»Ÿè®¡
- **ç³»ç»Ÿç»´æŠ¤**: æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–ã€ç¼“å­˜é¢„çƒ­
- **ç›‘æ§æŠ¥å‘Š**: ç³»ç»Ÿå¥åº·çŠ¶æ€æ£€æŸ¥å’ŒæŠ¥å‘Š

---

## ğŸ“ é¡¹ç›®ç»“æ„è¯¦è§£

### æ ¹ç›®å½•ç»“æ„
```
open-im-server/
â”œâ”€â”€ cmd/                    # åº”ç”¨ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ openim-api/        # HTTP APIæœåŠ¡å…¥å£
â”‚   â”œâ”€â”€ openim-msggateway/ # WebSocketç½‘å…³å…¥å£
â”‚   â”œâ”€â”€ openim-push/       # æ¨é€æœåŠ¡å…¥å£
â”‚   â”œâ”€â”€ openim-msgtransfer/# æ¶ˆæ¯ä¼ è¾“æœåŠ¡å…¥å£
â”‚   â”œâ”€â”€ openim-crontask/   # å®šæ—¶ä»»åŠ¡å…¥å£
â”‚   â”œâ”€â”€ openim-cmdutils/   # å‘½ä»¤è¡Œå·¥å…·
â”‚   â””â”€â”€ openim-rpc/        # RPCæœåŠ¡å…¥å£ç›®å½•
â”œâ”€â”€ internal/              # ç§æœ‰åº”ç”¨ç¨‹åºä»£ç 
â”‚   â”œâ”€â”€ api/              # HTTP APIå®ç°
â”‚   â”œâ”€â”€ msggateway/       # WebSocketç½‘å…³å®ç°
â”‚   â”œâ”€â”€ push/            # æ¨é€æœåŠ¡å®ç°
â”‚   â”œâ”€â”€ msgtransfer/     # æ¶ˆæ¯ä¼ è¾“å®ç°
â”‚   â”œâ”€â”€ tools/           # å†…éƒ¨å·¥å…·
â”‚   â””â”€â”€ rpc/             # RPCæœåŠ¡å®ç°
â”œâ”€â”€ pkg/                  # å¤–éƒ¨åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨çš„åº“ä»£ç 
â”‚   â”œâ”€â”€ common/          # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ apistruct/       # APIç»“æ„ä½“å®šä¹‰
â”‚   â”œâ”€â”€ authverify/      # èº«ä»½éªŒè¯å·¥å…·
â”‚   â”œâ”€â”€ callbackstruct/ # å›è°ƒç»“æ„ä½“
â”‚   â”œâ”€â”€ localcache/     # æœ¬åœ°ç¼“å­˜
â”‚   â”œâ”€â”€ msgprocessor/   # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â”œâ”€â”€ notification/   # é€šçŸ¥ç»„ä»¶
â”‚   â”œâ”€â”€ rpccache/       # RPCç¼“å­˜
â”‚   â”œâ”€â”€ rpcli/          # RPCå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ statistics/     # ç»Ÿè®¡ç»„ä»¶
â”‚   â”œâ”€â”€ tools/          # å·¥å…·åŒ…
â”‚   â””â”€â”€ util/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ deployments/         # éƒ¨ç½²ç›¸å…³æ–‡ä»¶
â”œâ”€â”€ docs/               # æ–‡æ¡£
â”œâ”€â”€ scripts/            # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ test/               # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ tools/              # å·¥å…·å’Œè¾…åŠ©ç¨‹åº
â””â”€â”€ version/            # ç‰ˆæœ¬ä¿¡æ¯
```

### æ ¸å¿ƒæ¨¡å—ç›®å½•

#### 1. `/cmd` - åº”ç”¨å…¥å£
```
cmd/
â”œâ”€â”€ openim-api/
â”‚   â””â”€â”€ main.go              # HTTP APIæœåŠ¡å¯åŠ¨å…¥å£
â”œâ”€â”€ openim-msggateway/
â”‚   â””â”€â”€ main.go              # WebSocketç½‘å…³å¯åŠ¨å…¥å£
â”œâ”€â”€ openim-push/
â”‚   â””â”€â”€ main.go              # æ¨é€æœåŠ¡å¯åŠ¨å…¥å£
â”œâ”€â”€ openim-msgtransfer/
â”‚   â””â”€â”€ main.go              # æ¶ˆæ¯ä¼ è¾“æœåŠ¡å¯åŠ¨å…¥å£
â”œâ”€â”€ openim-crontask/
â”‚   â””â”€â”€ main.go              # å®šæ—¶ä»»åŠ¡å¯åŠ¨å…¥å£
â”œâ”€â”€ openim-cmdutils/
â”‚   â””â”€â”€ main.go              # å‘½ä»¤è¡Œå·¥å…·å…¥å£
â””â”€â”€ openim-rpc/
    â”œâ”€â”€ openim-rpc-auth/     # è®¤è¯RPCæœåŠ¡
    â”œâ”€â”€ openim-rpc-user/     # ç”¨æˆ·RPCæœåŠ¡
    â”œâ”€â”€ openim-rpc-msg/      # æ¶ˆæ¯RPCæœåŠ¡
    â”œâ”€â”€ openim-rpc-conversation/ # ä¼šè¯RPCæœåŠ¡
    â”œâ”€â”€ openim-rpc-group/    # ç¾¤ç»„RPCæœåŠ¡
    â”œâ”€â”€ openim-rpc-relation/ # å…³ç³»RPCæœåŠ¡
    â””â”€â”€ openim-rpc-third/    # ç¬¬ä¸‰æ–¹RPCæœåŠ¡
```

#### 2. `/internal` - æ ¸å¿ƒä¸šåŠ¡å®ç°
```
internal/
â”œâ”€â”€ api/                     # HTTP APIå®ç°
â”‚   â”œâ”€â”€ auth.go             # è®¤è¯ç›¸å…³API
â”‚   â”œâ”€â”€ user.go             # ç”¨æˆ·ç®¡ç†API
â”‚   â”œâ”€â”€ msg.go              # æ¶ˆæ¯ç›¸å…³API
â”‚   â”œâ”€â”€ conversation.go     # ä¼šè¯ç®¡ç†API
â”‚   â”œâ”€â”€ group.go            # ç¾¤ç»„ç®¡ç†API
â”‚   â”œâ”€â”€ friend.go           # å¥½å‹å…³ç³»API
â”‚   â””â”€â”€ third.go            # ç¬¬ä¸‰æ–¹æœåŠ¡API
â”œâ”€â”€ msggateway/             # WebSocketç½‘å…³
â”‚   â”œâ”€â”€ ws_server.go        # WebSocketæœåŠ¡å™¨
â”‚   â”œâ”€â”€ client.go           # å®¢æˆ·ç«¯è¿æ¥ç®¡ç†
â”‚   â”œâ”€â”€ hub_server.go       # æ¶ˆæ¯åˆ†å‘ä¸­å¿ƒ
â”‚   â”œâ”€â”€ message_handler.go  # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â”œâ”€â”€ user_map.go         # ç”¨æˆ·æ˜ å°„ç®¡ç†
â”‚   â”œâ”€â”€ online.go           # åœ¨çº¿çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ subscription.go     # è®¢é˜…ç®¡ç†
â”œâ”€â”€ push/                   # æ¨é€æœåŠ¡
â”‚   â”œâ”€â”€ push.go             # æ¨é€æœåŠ¡ä¸»é€»è¾‘
â”‚   â”œâ”€â”€ push_handler.go     # æ¨é€å¤„ç†å™¨
â”‚   â”œâ”€â”€ onlinepusher.go     # åœ¨çº¿æ¨é€å™¨
â”‚   â”œâ”€â”€ offlinepush_handler.go # ç¦»çº¿æ¨é€å¤„ç†
â”‚   â””â”€â”€ callback.go         # æ¨é€å›è°ƒ
â”œâ”€â”€ msgtransfer/            # æ¶ˆæ¯ä¼ è¾“
â”‚   â”œâ”€â”€ init.go             # æœåŠ¡åˆå§‹åŒ–
â”‚   â”œâ”€â”€ online_history_msg_handler.go # åœ¨çº¿å†å²æ¶ˆæ¯å¤„ç†
â”‚   â””â”€â”€ online_msg_to_mongo_handler.go # MongoDBæ¶ˆæ¯å¤„ç†
â””â”€â”€ rpc/                    # RPCæœåŠ¡å®ç°
    â”œâ”€â”€ auth/               # è®¤è¯æœåŠ¡
    â”œâ”€â”€ user/               # ç”¨æˆ·æœåŠ¡
    â”œâ”€â”€ msg/                # æ¶ˆæ¯æœåŠ¡
    â”œâ”€â”€ conversation/       # ä¼šè¯æœåŠ¡
    â”œâ”€â”€ group/              # ç¾¤ç»„æœåŠ¡
    â”œâ”€â”€ relation/           # å…³ç³»æœåŠ¡
    â””â”€â”€ third/              # ç¬¬ä¸‰æ–¹æœåŠ¡
```

#### 3. `/pkg` - å…¬å…±åº“ç»„ä»¶
```
pkg/
â”œâ”€â”€ common/                 # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ storage/           # å­˜å‚¨æŠ½è±¡å±‚
â”‚   â”‚   â”œâ”€â”€ cache/         # ç¼“å­˜æ¥å£
â”‚   â”‚   â”œâ”€â”€ database/      # æ•°æ®åº“æ¥å£
â”‚   â”‚   â”œâ”€â”€ controller/    # å­˜å‚¨æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ model/         # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ webhook/           # Webhookç»„ä»¶
â”‚   â””â”€â”€ convert/           # æ•°æ®è½¬æ¢å·¥å…·
â”œâ”€â”€ apistruct/             # APIç»“æ„ä½“å®šä¹‰
â”œâ”€â”€ authverify/            # èº«ä»½éªŒè¯å·¥å…·
â”œâ”€â”€ callbackstruct/        # å›è°ƒç»“æ„ä½“å®šä¹‰
â”œâ”€â”€ localcache/            # æœ¬åœ°ç¼“å­˜ç»„ä»¶
â”œâ”€â”€ msgprocessor/          # æ¶ˆæ¯å¤„ç†å™¨
â”œâ”€â”€ notification/          # é€šçŸ¥ç»„ä»¶
â”œâ”€â”€ rpccache/              # RPCç¼“å­˜ç»„ä»¶
â”œâ”€â”€ rpcli/                 # RPCå®¢æˆ·ç«¯
â”œâ”€â”€ statistics/            # ç»Ÿè®¡ç»„ä»¶
â”œâ”€â”€ tools/                 # å·¥å…·åŒ…
â”‚   â”œâ”€â”€ batcher/           # æ‰¹å¤„ç†å™¨
â”‚   â”œâ”€â”€ checker/           # æ£€æŸ¥å·¥å…·
â”‚   â””â”€â”€ discovery/         # æœåŠ¡å‘ç°
â””â”€â”€ util/                  # å·¥å…·å‡½æ•°
```

---

## ğŸš€ æ ¸å¿ƒæœåŠ¡å¯åŠ¨é…ç½®

### æœåŠ¡é…ç½®æ–‡ä»¶ (start-config.yml)
```yaml
serviceBinaries:
  openim-api: 1              # HTTP APIç½‘å…³
  openim-crontask: 1         # å®šæ—¶ä»»åŠ¡æœåŠ¡
  openim-rpc-user: 1         # ç”¨æˆ·RPCæœåŠ¡
  openim-msggateway: 1       # WebSocketç½‘å…³
  openim-push: 1             # æ¨é€æœåŠ¡
  openim-msgtransfer: 1      # æ¶ˆæ¯ä¼ è¾“æœåŠ¡
  openim-rpc-conversation: 1 # ä¼šè¯RPCæœåŠ¡
  openim-rpc-auth: 1         # è®¤è¯RPCæœåŠ¡
  openim-rpc-group: 1        # ç¾¤ç»„RPCæœåŠ¡
  openim-rpc-friend: 1       # å¥½å‹RPCæœåŠ¡
  openim-rpc-msg: 1          # æ¶ˆæ¯RPCæœåŠ¡
  openim-rpc-third: 1        # ç¬¬ä¸‰æ–¹RPCæœåŠ¡

toolBinaries:
  - check-free-memory        # å†…å­˜æ£€æŸ¥å·¥å…·
  - check-component          # ç»„ä»¶æ£€æŸ¥å·¥å…·
  - seq                      # åºåˆ—å·å·¥å…·

maxFileDescriptors: 10000    # æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°
```

### ç«¯å£åˆ†é…

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| openim-api | 10002 | HTTP APIç½‘å…³ |
| openim-msggateway | 10001 | WebSocketç½‘å…³ |
| openim-rpc-user | 10110 | ç”¨æˆ·RPCæœåŠ¡ |
| openim-rpc-conversation | 10120 | ä¼šè¯RPCæœåŠ¡ |
| openim-rpc-msg | 10130 | æ¶ˆæ¯RPCæœåŠ¡ |
| openim-rpc-relation | 10140 | å…³ç³»RPCæœåŠ¡ |
| openim-rpc-group | 10150 | ç¾¤ç»„RPCæœåŠ¡ |
| openim-rpc-auth | 10160 | è®¤è¯RPCæœåŠ¡ |
| openim-rpc-third | 10170 | ç¬¬ä¸‰æ–¹RPCæœåŠ¡ |
| openim-msgtransfer | 10180 | æ¶ˆæ¯ä¼ è¾“æœåŠ¡ |
| openim-crontask | 10190 | å®šæ—¶ä»»åŠ¡æœåŠ¡ |
| openim-push | 10200 | æ¨é€æœåŠ¡ |

---

## ğŸ”§ æŠ€æœ¯æ ˆæ€»ç»“

### æ ¸å¿ƒæŠ€æœ¯
- **å¼€å‘è¯­è¨€**: Go 1.19+
- **é€šä¿¡åè®®**: gRPCã€WebSocketã€HTTP/HTTPS
- **æ¶ˆæ¯é˜Ÿåˆ—**: Apache Kafka
- **æ•°æ®åº“**: MongoDB
- **ç¼“å­˜**: Redis
- **å¯¹è±¡å­˜å‚¨**: MinIO
- **èº«ä»½è®¤è¯**: JWT

### éƒ¨ç½²æ”¯æŒ
- **å®¹å™¨åŒ–**: Dockerã€Docker Compose
- **ç¼–æ’**: Kubernetes
- **ç³»ç»Ÿæ”¯æŒ**: Linuxã€Windowsã€macOS
- **æ¶æ„æ”¯æŒ**: AMD64ã€ARM64

### ç›‘æ§è¿ç»´
- **æ—¥å¿—**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
- **ç›‘æ§**: PrometheusæŒ‡æ ‡
- **é“¾è·¯è¿½è¸ª**: OpenTelemetry
- **å¥åº·æ£€æŸ¥**: HTTPå¥åº·æ£€æŸ¥ç«¯ç‚¹

---

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

### æ€§èƒ½æŒ‡æ ‡
- **å¹¶å‘è¿æ¥**: æ”¯æŒç™¾ä¸‡çº§WebSocketè¿æ¥
- **æ¶ˆæ¯åå**: æ”¯æŒæ¯ç§’ç™¾ä¸‡çº§æ¶ˆæ¯å¤„ç†
- **å“åº”å»¶è¿Ÿ**: æ¶ˆæ¯ç«¯åˆ°ç«¯å»¶è¿Ÿ < 100ms
- **å­˜å‚¨å®¹é‡**: æ”¯æŒPBçº§æ¶ˆæ¯å­˜å‚¨

### æ‰©å±•èƒ½åŠ›
- **æ°´å¹³æ‰©å±•**: æ‰€æœ‰æœåŠ¡æ”¯æŒæ°´å¹³æ‰©å±•
- **è´Ÿè½½å‡è¡¡**: è‡ªåŠ¨è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»
- **ç¼“å­˜ä¼˜åŒ–**: å¤šçº§ç¼“å­˜æå‡æ€§èƒ½
- **æ‰¹é‡å¤„ç†**: æ‰¹é‡æ“ä½œä¼˜åŒ–æ•°æ®åº“æ€§èƒ½

---

## ğŸŒ é›†æˆç”Ÿæ€

### OpenIM SDK
- **å¤šè¯­è¨€æ”¯æŒ**: Goã€JavaScriptã€Swiftã€Javaã€C++
- **è·¨å¹³å°**: iOSã€Androidã€Windowsã€macOSã€Linuxã€Web
- **åŠŸèƒ½å®Œæ•´**: å®Œæ•´çš„IMåŠŸèƒ½SDK

### ç®¡ç†åå°
- **OpenIM Admin**: Webç®¡ç†åå°
- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **ç¾¤ç»„ç®¡ç†**: ç¾¤ç»„åˆ›å»ºå’Œç®¡ç†
- **æ¶ˆæ¯ç®¡ç†**: æ¶ˆæ¯ç›‘æ§å’Œç®¡ç†
- **ç»Ÿè®¡åˆ†æ**: ä½¿ç”¨ç»Ÿè®¡å’Œåˆ†æ

### ç¬¬ä¸‰æ–¹é›†æˆ
- **æ¨é€æœåŠ¡**: FCMã€APNsã€åä¸ºæ¨é€ã€å°ç±³æ¨é€
- **å¯¹è±¡å­˜å‚¨**: é˜¿é‡Œäº‘OSSã€è…¾è®¯äº‘COSã€AWS S3
- **çŸ­ä¿¡æœåŠ¡**: é˜¿é‡Œäº‘çŸ­ä¿¡ã€è…¾è®¯äº‘çŸ­ä¿¡
- **é‚®ä»¶æœåŠ¡**: SMTPé‚®ä»¶æœåŠ¡

---

## ğŸ“ˆ åº”ç”¨åœºæ™¯

### 1. ä¼ä¸šå³æ—¶é€šè®¯
- å†…éƒ¨æ²Ÿé€šåä½œ
- å›¢é˜Ÿé¡¹ç›®ç®¡ç†
- è§†é¢‘ä¼šè®®é›†æˆ
- æ–‡ä»¶å…±äº«

### 2. ç¤¾äº¤åº”ç”¨
- ç¤¾äº¤èŠå¤©åº”ç”¨
- å…´è¶£ç¤¾åŒº
- ç›´æ’­äº’åŠ¨
- æ¸¸æˆå†…èŠå¤©

### 3. å®¢æœç³»ç»Ÿ
- åœ¨çº¿å®¢æœ
- æ™ºèƒ½æœºå™¨äºº
- å·¥å•ç³»ç»Ÿ
- å®¢æˆ·ç®¡ç†

### 4. æ•™è‚²å¹³å°
- åœ¨çº¿æ•™å­¦
- å¸ˆç”Ÿäº’åŠ¨
- ä½œä¸šæäº¤
- å®¶æ ¡æ²Ÿé€š

### 5. ç”µå•†å¹³å°
- ä¹°å®¶å–å®¶æ²Ÿé€š
- è®¢å•åå•†
- å”®åæœåŠ¡
- å•†å“å’¨è¯¢

---

## ğŸ”— ç›¸å…³èµ„æº

### å®˜æ–¹èµ„æº
- **å®˜ç½‘**: https://www.openim.io
- **GitHub**: https://github.com/openimsdk/open-im-server
- **æ–‡æ¡£**: https://docs.openim.io
- **æ¼”ç¤º**: https://www.openim.io/en/commercial

### ç¤¾åŒºæ”¯æŒ
- **Slack**: [åŠ å…¥Slackç¤¾åŒº](https://join.slack.com/t/openimsdk/shared_invite/zt-22720d66b-o_FvKxMTGXtcnnnHiMqe9Q)
- **å¾®ä¿¡ç¾¤**: æ‰«ç åŠ å…¥æŠ€æœ¯äº¤æµç¾¤
- **è®ºå›**: æŠ€æœ¯è®¨è®ºå’Œé—®é¢˜è§£ç­”

### å­¦ä¹ èµ„æº
- **å¿«é€Ÿå¼€å§‹æŒ‡å—**: 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²
- **å¼€å‘è€…æ–‡æ¡£**: å®Œæ•´çš„APIæ–‡æ¡£
- **æœ€ä½³å®è·µ**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—
- **è§†é¢‘æ•™ç¨‹**: ä»å…¥é—¨åˆ°ç²¾é€š

---

## ğŸ“ æ€»ç»“

OpenIMä½œä¸ºä¸€ä¸ªå¼€æºçš„ä¼ä¸šçº§å³æ—¶é€šè®¯è§£å†³æ–¹æ¡ˆï¼Œå…·æœ‰ä»¥ä¸‹æ˜¾è‘—ä¼˜åŠ¿ï¼š

1. **æ¶æ„å…ˆè¿›**: å¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼Œæ”¯æŒé«˜å¹¶å‘å’Œé«˜å¯ç”¨
2. **åŠŸèƒ½å®Œæ•´**: æ¶µç›–IMç³»ç»Ÿçš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
3. **æ€§èƒ½ä¼˜å¼‚**: æ”¯æŒç™¾ä¸‡çº§ç”¨æˆ·å’Œæµ·é‡æ¶ˆæ¯å¤„ç†
4. **æ˜“äºé›†æˆ**: æä¾›å®Œæ•´çš„SDKå’ŒAPI
5. **æ‰©å±•çµæ´»**: åŸºäºWebhookçš„ä¸šåŠ¡æ‰©å±•æœºåˆ¶
6. **éƒ¨ç½²ç®€å•**: æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼
7. **ç¤¾åŒºæ´»è·ƒ**: æŒç»­çš„æŠ€æœ¯æ”¯æŒå’ŒåŠŸèƒ½æ›´æ–°

OpenIMä¸ºå¼€å‘è€…æä¾›äº†æ„å»ºç°ä»£åŒ–å³æ—¶é€šè®¯åº”ç”¨çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œæ— è®ºæ˜¯ä¼ä¸šå†…éƒ¨æ²Ÿé€šã€ç¤¾äº¤åº”ç”¨è¿˜æ˜¯å®¢æœç³»ç»Ÿï¼Œéƒ½èƒ½å¤Ÿå¿«é€Ÿé›†æˆå’Œéƒ¨ç½²ã€‚é€šè¿‡å…¶æ¨¡å—åŒ–çš„æ¶æ„è®¾è®¡å’Œä¸°å¯Œçš„åŠŸèƒ½ç‰¹æ€§ï¼Œå¼€å‘è€…å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œè€Œä¸éœ€è¦ä»é›¶å¼€å§‹æ„å»ºå¤æ‚çš„IMç³»ç»Ÿã€‚

---

*æœ¬æ–‡æ¡£åŸºäºOpenIM v3.8.3ç‰ˆæœ¬ç¼–å†™ï¼ŒæŒç»­æ›´æ–°ä¸­...*